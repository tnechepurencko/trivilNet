\hypertarget{stdfuncs}{%
\section{Стандартные функции и методы}\label{stdfuncs:chapter}}

\hypertarget{std-funcs}{%
\subsection{Стандартные функции}\label{stdfuncs:std-funcs}}

\hypertarget{stdlen}{%
\subsubsection{Длина}\label{stdfuncs:stdlen}}

Стандартная функция \verb+длина+ возвращает длину строк, векторов и вариативных параметров, см. также (\See{decls:string8-type}). Тип результата: Цел64.

Длина строки считается в символах. Для остальных типов длина выдает число элементов.

\begin{Trivil}
    пусть д1 = длина("Привет") // равно 6

    пусть д2 = длина("Привет"(:Байты)) // равно 12
\end{Trivil}

\hypertarget{stdpoly}{%
\subsubsection{Функции для полиморфных параметров}\label{stdfuncs:stdpoly}}

Стандартные функции \verb+тег+ и \verb+нечто+ предназначены для работы с полиморфными параметрами (\See{decls:params-poly})

Аргумент функция \verb+тег+ может быть типом или полиморфным параметром или элементом вариативного полиморфного параметра. 
Для каждого типа определен его \emph{Тег}, который является постоянным объектом времени исполнения. 
Постоянный, в данном контексте, контексте, означает, что Тег типа не меняется во время исполнения программы.
Тег представлен значением типа Слово64.

\bigskip
\begin{tabular}[c]{p{4.5cm}|l|l}
 \textbf{Вид аргумента} & \textbf{Пример}  & \textbf{Результат}  \\ 
\hline
предопределенный тип & тег(Цел64) &  Тег указанного типа \\
описанный тип & тег(Байты) &  Тег указанного типа \\
полиморфный параметр & тег(п) & Тег параметра \\
элемент вариативного полиморфного параметра & тег(п[номер]) & Тег элемента \\
\hline
\end{tabular}

\bigskip
Аргумент функция \verb+нечто+ должен быть полиморфным параметром или элементом вариативного полиморфного параметра. 
Функция выдает результат типа Слово64, которые является скрытым представлением значения переданного в полиморфный параметр .

К результату функции \verb+нечто+ может применяется преобразование типа (\See{expr:conversion}) или \emph{осторожное} преобразование типа (\See{unsafe:conversions}).

\begin{Trivil}
фн Что это?(п: *) {
    если тег(п) = тег(Цел64) { 
        вывод.ф("это число: %v", нечто(п)(:Цел64)) 
    }
    иначе { 
        вывод.ф("это не число") 
    }
}
\end{Trivil}

\hypertarget{stdvector}{%
\subsection{Встроенные методы для векторов}\label{stdfuncs:stdvector}}

Для всех типов векторов определены стандартные методы:
\begin{d_itemize}
\item
    \verb+добавить+
\item
    \verb+заполнить+
\end{d_itemize}

\bigskip
\TBD: Уточнить семантику и набор методов.

\hypertarget{vector-append}{%
\subsubsection{Метод добавить}\label{stdfuncs:vector-append}}

Метод \verb+добавить+ можно применить к любому вектору. Если вектор типа \verb+[]T+, то метод можно рассматривать, как описанный с заголовком:
\begin{Trivil}
фн (в: []T) добавить(аргументы: ...T) 
\end{Trivil}

Это означает, что в вызове метода можно указать любое количество аргументов типа \verb+T+ или одно \emph{развернутое выражение} (\See{expr:call}).

Вызов метода добавляет к вектору указанные аргументы.

\begin{Trivil}
тип Числа = []Цел64

пусть фиб = Числа[1, 1]
фиб.добавить(2, 3, 5)
\end{Trivil}

