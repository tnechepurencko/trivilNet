\hypertarget{statements}{%
\section{Операторы}\label{stmt:chapter}}

Операторы задают действия.

\begin{Grammar}
Оператор
    : Локальное-описание
    | Простой-оператор
    | Оператор-если
    | Оператор-надо
    | Оператор-когда
    | Оператор-пока
    | Оператор-вернуть
    | Оператор-прервать
    | Оператор-авария

Простой-оператор
    : Оператор-выражение 
    | Оператор-присваивания
    | Инкремент 
    | Декремент
\end{Grammar}

\hypertarget{blocks}{%
\subsection{Блоки}\label{stmt:blocks}}

Операторы сгрупированы в \emph{Блоки}, которые задают последовательность действий для функций и методов (\See{decls:functions}, \See{decls:methods}) и входа в модуль (\See{mods:entry}).
Блок - это, возможно, пустая последовательность операторов, которые могут включать локальные описания.


\begin{Grammar}
Блок: '{' Список-операторов? '}'
Список-операторов: Оператор (Разделитель Оператор)* 
\end{Grammar}

\hypertarget{local-decls}{%
\subsection{Локальные описания}\label{stmt:local-decls}}

Локальное описание определяет идентификатор, для которого областью действия (\See{decls:scopes}) является часть блока, 
от точки завершения описания до завершающей скобки блока, исключая вложенные блоки, в которых описан такой же идентификатор.

\begin{Grammar}
Локальное-описание: Описание-переменной
\end{Grammar}

Для локальных переменных не может быть задана \emph{поздняя инициализация} (\See{decls:variables}).

\TBD: Нужны ли локальные константы? Или это задача оптимизации?

\hypertarget{expr-stmt}{%
\subsection{Выражение, как оператор}\label{stmt:expr-stmt}}

Выражение, являющееся вызовом функции или метода, кроме вызова стандартных функций (\See{stdfuncs:chapter}), может быть использовано как оператор. 
Результат вызова при этом игнорируется. 

\begin{Grammar}
Оператор-выражение: Выражение
\end{Grammar}

\begin{Trivil}
напечатать("Привет")
Факториал(5)
\end{Trivil}

Не могут быть использованы в качестве оператора:
\begin{SampleErr}[vspace=2pt]
1 + 1
длина(а)
\end{SampleErr}

\hypertarget{assignment}{%
\subsection{Оператор присваивания}\label{stmt:assignment}}

Присваивание заменяет текущее значение, хранящееся в переменной, новым значением, заданным выражением.

\begin{Grammar}
Оператор-присваивания: Выражение ':=' Выражение
\end{Grammar}

Выражение в левой части должно быть \emph{изменяемым}:

\smallskip
\begin{tabular}[l]{l|l|p{4.8cm}}
 \multicolumn{2}{l|}{\textbf{Левое выражение}}   & \textbf{Условие}  \\ 
\hline
Имя объекта  & \verb+пер+ или \verb+мод.пер+ &  \emph{пер} - это изменяемая переменная (\See{decls:variables}) \\
Доступ к полю & \verb+что-то.поле+ & \emph{что-то} - это изменяемое выражение, \emph{поле} - это изменяемое поле (\See{decls:fields-init}) \\
Индексация & \verb+что-то[индекс]+ & \emph{что-то} - это изменяемое выражение \\
Преобразование & \verb+что-то(:Тип)+ & \emph{что-то} - это изменяемое выражение \\
\hline
\end{tabular}

\bigskip
Выражение в правой части должно быть \emph{совместимо по присваиванию} с типом левого выражение (\See{compat:assign}).

\begin{Trivil}
пусть ц := 0
пусть байты := Байты[1, 2, 3]
ц := 2
байты[ц] = 5
\end{Trivil}

Ошибка присваивания в неизменяемое выражение:
\begin{SampleErr}[vspace=2pt]
пусть ц = 0
ц := 2
\end{SampleErr}

\hypertarget{inc-dec}{%
\subsection{Инкремент и декремент}\label{stmt:inc-dec}}

Операторы \emph{Инкремент} ('++') и \emph{Декремент} ('--') увеличивают или уменьшают свои операнды на 1. 

\begin{Grammar}
Инкремент: Выражение '++'
Декремент: Выражение '--'
\end{Grammar}

Как и в случае присваивания (\See{stmt:assignment}), выражение должно быть \emph{изменяемым}.
Тип выражения должен быть одного из типов: Байт, Цел64, Слово64.

\begin{Trivil}
пусть ц := 1
пусть байты := Байты[1, 2, 3]
байты[ц]++
\end{Trivil}

\hypertarget{if-stmt}{%
\subsection{Оператор 'если'}\label{stmt:if-stmt}}

Оператор \keyword{если} определяет условное выполнение двух ветвей в соответствии со значением логического выражения. 
Если выражение принимает значение \verb+истина+, выполняется Блок первой веткви, в противном случае, выполняется ветвь \keyword{иначе}, если она задана.

\begin{Grammar}
Оператор-если: 
    'если' Выражение Блок ('иначе' (Оператор-если | Блок)?
\end{Grammar}

\begin{Trivil}
если ц > макс { ц := макс }

если Буква?(сим) { Имя() }
иначе если Цифра?(сим) { Число() }
иначе { Ошибка!() }
\end{Trivil}

\hypertarget{return}{%
\subsection{Оператор вернуть}\label{stmt:return}}

\hypertarget{crash}{%
\subsection{Оператор авария и аварийное завершение}\label{stmt:crash}}