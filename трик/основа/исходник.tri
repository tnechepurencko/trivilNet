модуль основа

импорт "стд/вывод"

тип Байты = []Байт
тип Целые = []Цел64

тип Исходный файл* = класс {

    байты*: Байты = позже
    №: Цел64 = позже  // номер в векторе исходников
    начала* = Целые[]
}

тип Исходники = []Исходный файл


пусть исходники = Исходники[]

фн исходник*(текст: Строка): Исходный файл {
    пусть и = Исходный файл{
        байты: текст(:Байты),
        №: длина(исходники) + 1,
    }

    исходники.добавить(и)

    вернуть и
}
